// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package platform

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-harness/sdk/go/harness/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Resource for uploading files to Terraform/OpenTofu Provider Versions in the IaCM Provider Registry.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-harness/sdk/go/harness/platform"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// First, create a provider
//			aws, err := platform.NewInfraProvider(ctx, "aws", &platform.InfraProviderArgs{
//				Type:        pulumi.String("aws"),
//				Description: pulumi.String("AWS provider for IaCM"),
//			})
//			if err != nil {
//				return err
//			}
//			// Create a version
//			awsV5, err := platform.NewInfraProviderVersion(ctx, "aws_v5", &platform.InfraProviderVersionArgs{
//				ProviderId: aws.ID(),
//				Version:    pulumi.String("5.0.0"),
//				GpgKeyId:   pulumi.String("your-gpg-key-id"),
//				Protocols: pulumi.StringArray{
//					pulumi.String("5.0"),
//					pulumi.String("6.0"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			// Upload files for different platforms
//			_, err = platform.NewInfraProviderVersionFile(ctx, "aws_linux_amd64", &platform.InfraProviderVersionFileArgs{
//				ProviderId: aws.ID(),
//				Version:    awsV5.Version,
//				FilePath:   pulumi.String("./terraform-provider-aws_5.0.0_linux_amd64.zip"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = platform.NewInfraProviderVersionFile(ctx, "aws_darwin_amd64", &platform.InfraProviderVersionFileArgs{
//				ProviderId: aws.ID(),
//				Version:    awsV5.Version,
//				FilePath:   pulumi.String("./terraform-provider-aws_5.0.0_darwin_amd64.zip"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = platform.NewInfraProviderVersionFile(ctx, "aws_windows_amd64", &platform.InfraProviderVersionFileArgs{
//				ProviderId: aws.ID(),
//				Version:    awsV5.Version,
//				FilePath:   pulumi.String("./terraform-provider-aws_5.0.0_windows_amd64.zip"),
//			})
//			if err != nil {
//				return err
//			}
//			// Upload SHA256SUMS and signature files
//			_, err = platform.NewInfraProviderVersionFile(ctx, "aws_shasums", &platform.InfraProviderVersionFileArgs{
//				ProviderId: aws.ID(),
//				Version:    awsV5.Version,
//				FilePath:   pulumi.String("./terraform-provider-aws_5.0.0_SHA256SUMS"),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = platform.NewInfraProviderVersionFile(ctx, "aws_shasums_sig", &platform.InfraProviderVersionFileArgs{
//				ProviderId: aws.ID(),
//				Version:    awsV5.Version,
//				FilePath:   pulumi.String("./terraform-provider-aws_5.0.0_SHA256SUMS.sig"),
//			})
//			if err != nil {
//				return err
//			}
//			// Optional: Override the uploaded filename if different from local filename
//			_, err = platform.NewInfraProviderVersionFile(ctx, "custom_name", &platform.InfraProviderVersionFileArgs{
//				ProviderId: aws.ID(),
//				Version:    awsV5.Version,
//				FilePath:   pulumi.String("./local-file.zip"),
//				Filename:   pulumi.String("terraform-provider-aws_5.0.0_custom.zip"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Notes
//
// - Files cannot be updated once uploaded. To change a file, you must delete and recreate the resource.
// - When `filePath` is provided, the resource reads the local file and uploads its content to the provider registry.
// - The `filename` is automatically derived from `filePath` if not explicitly provided.
// - Common files to upload include:
//   - Platform-specific provider binaries (e.g., `terraform-provider-aws_5.0.0_linux_amd64.zip`)
//   - SHA256SUMS file for verification
//   - SHA256SUMS.sig signature file for GPG verification
//
// - Files are uploaded as raw binary content with `Content-Type: application/octet-stream`.
//
// ## Import
//
// The `pulumi import` command can be used, for example:
//
// ```sh
// $ pulumi import harness:platform/infraProviderVersionFile:InfraProviderVersionFile example <provider_id>/<version>/<filename>
// ```
type InfraProviderVersionFile struct {
	pulumi.CustomResourceState

	// Local path to the file to upload. Required for uploading file content.
	FilePath pulumi.StringOutput `pulumi:"filePath"`
	// Name of the file to upload (e.g., terraform-provider-aws*5.0.0*linux*amd64.zip). If not provided, will be derived from file*path. Use this to override the uploaded filename if it should differ from the local filename.
	Filename pulumi.StringPtrOutput `pulumi:"filename"`
	// The ID of the provider.
	ProviderId pulumi.StringOutput `pulumi:"providerId"`
	// Indicates if the provider version is synced after file upload.
	Synced pulumi.BoolOutput `pulumi:"synced"`
	// Provider version number.
	Version pulumi.StringOutput `pulumi:"version"`
}

// NewInfraProviderVersionFile registers a new resource with the given unique name, arguments, and options.
func NewInfraProviderVersionFile(ctx *pulumi.Context,
	name string, args *InfraProviderVersionFileArgs, opts ...pulumi.ResourceOption) (*InfraProviderVersionFile, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.FilePath == nil {
		return nil, errors.New("invalid value for required argument 'FilePath'")
	}
	if args.ProviderId == nil {
		return nil, errors.New("invalid value for required argument 'ProviderId'")
	}
	if args.Version == nil {
		return nil, errors.New("invalid value for required argument 'Version'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource InfraProviderVersionFile
	err := ctx.RegisterResource("harness:platform/infraProviderVersionFile:InfraProviderVersionFile", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetInfraProviderVersionFile gets an existing InfraProviderVersionFile resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetInfraProviderVersionFile(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *InfraProviderVersionFileState, opts ...pulumi.ResourceOption) (*InfraProviderVersionFile, error) {
	var resource InfraProviderVersionFile
	err := ctx.ReadResource("harness:platform/infraProviderVersionFile:InfraProviderVersionFile", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering InfraProviderVersionFile resources.
type infraProviderVersionFileState struct {
	// Local path to the file to upload. Required for uploading file content.
	FilePath *string `pulumi:"filePath"`
	// Name of the file to upload (e.g., terraform-provider-aws*5.0.0*linux*amd64.zip). If not provided, will be derived from file*path. Use this to override the uploaded filename if it should differ from the local filename.
	Filename *string `pulumi:"filename"`
	// The ID of the provider.
	ProviderId *string `pulumi:"providerId"`
	// Indicates if the provider version is synced after file upload.
	Synced *bool `pulumi:"synced"`
	// Provider version number.
	Version *string `pulumi:"version"`
}

type InfraProviderVersionFileState struct {
	// Local path to the file to upload. Required for uploading file content.
	FilePath pulumi.StringPtrInput
	// Name of the file to upload (e.g., terraform-provider-aws*5.0.0*linux*amd64.zip). If not provided, will be derived from file*path. Use this to override the uploaded filename if it should differ from the local filename.
	Filename pulumi.StringPtrInput
	// The ID of the provider.
	ProviderId pulumi.StringPtrInput
	// Indicates if the provider version is synced after file upload.
	Synced pulumi.BoolPtrInput
	// Provider version number.
	Version pulumi.StringPtrInput
}

func (InfraProviderVersionFileState) ElementType() reflect.Type {
	return reflect.TypeOf((*infraProviderVersionFileState)(nil)).Elem()
}

type infraProviderVersionFileArgs struct {
	// Local path to the file to upload. Required for uploading file content.
	FilePath string `pulumi:"filePath"`
	// Name of the file to upload (e.g., terraform-provider-aws*5.0.0*linux*amd64.zip). If not provided, will be derived from file*path. Use this to override the uploaded filename if it should differ from the local filename.
	Filename *string `pulumi:"filename"`
	// The ID of the provider.
	ProviderId string `pulumi:"providerId"`
	// Provider version number.
	Version string `pulumi:"version"`
}

// The set of arguments for constructing a InfraProviderVersionFile resource.
type InfraProviderVersionFileArgs struct {
	// Local path to the file to upload. Required for uploading file content.
	FilePath pulumi.StringInput
	// Name of the file to upload (e.g., terraform-provider-aws*5.0.0*linux*amd64.zip). If not provided, will be derived from file*path. Use this to override the uploaded filename if it should differ from the local filename.
	Filename pulumi.StringPtrInput
	// The ID of the provider.
	ProviderId pulumi.StringInput
	// Provider version number.
	Version pulumi.StringInput
}

func (InfraProviderVersionFileArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*infraProviderVersionFileArgs)(nil)).Elem()
}

type InfraProviderVersionFileInput interface {
	pulumi.Input

	ToInfraProviderVersionFileOutput() InfraProviderVersionFileOutput
	ToInfraProviderVersionFileOutputWithContext(ctx context.Context) InfraProviderVersionFileOutput
}

func (*InfraProviderVersionFile) ElementType() reflect.Type {
	return reflect.TypeOf((**InfraProviderVersionFile)(nil)).Elem()
}

func (i *InfraProviderVersionFile) ToInfraProviderVersionFileOutput() InfraProviderVersionFileOutput {
	return i.ToInfraProviderVersionFileOutputWithContext(context.Background())
}

func (i *InfraProviderVersionFile) ToInfraProviderVersionFileOutputWithContext(ctx context.Context) InfraProviderVersionFileOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InfraProviderVersionFileOutput)
}

// InfraProviderVersionFileArrayInput is an input type that accepts InfraProviderVersionFileArray and InfraProviderVersionFileArrayOutput values.
// You can construct a concrete instance of `InfraProviderVersionFileArrayInput` via:
//
//	InfraProviderVersionFileArray{ InfraProviderVersionFileArgs{...} }
type InfraProviderVersionFileArrayInput interface {
	pulumi.Input

	ToInfraProviderVersionFileArrayOutput() InfraProviderVersionFileArrayOutput
	ToInfraProviderVersionFileArrayOutputWithContext(context.Context) InfraProviderVersionFileArrayOutput
}

type InfraProviderVersionFileArray []InfraProviderVersionFileInput

func (InfraProviderVersionFileArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*InfraProviderVersionFile)(nil)).Elem()
}

func (i InfraProviderVersionFileArray) ToInfraProviderVersionFileArrayOutput() InfraProviderVersionFileArrayOutput {
	return i.ToInfraProviderVersionFileArrayOutputWithContext(context.Background())
}

func (i InfraProviderVersionFileArray) ToInfraProviderVersionFileArrayOutputWithContext(ctx context.Context) InfraProviderVersionFileArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InfraProviderVersionFileArrayOutput)
}

// InfraProviderVersionFileMapInput is an input type that accepts InfraProviderVersionFileMap and InfraProviderVersionFileMapOutput values.
// You can construct a concrete instance of `InfraProviderVersionFileMapInput` via:
//
//	InfraProviderVersionFileMap{ "key": InfraProviderVersionFileArgs{...} }
type InfraProviderVersionFileMapInput interface {
	pulumi.Input

	ToInfraProviderVersionFileMapOutput() InfraProviderVersionFileMapOutput
	ToInfraProviderVersionFileMapOutputWithContext(context.Context) InfraProviderVersionFileMapOutput
}

type InfraProviderVersionFileMap map[string]InfraProviderVersionFileInput

func (InfraProviderVersionFileMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*InfraProviderVersionFile)(nil)).Elem()
}

func (i InfraProviderVersionFileMap) ToInfraProviderVersionFileMapOutput() InfraProviderVersionFileMapOutput {
	return i.ToInfraProviderVersionFileMapOutputWithContext(context.Background())
}

func (i InfraProviderVersionFileMap) ToInfraProviderVersionFileMapOutputWithContext(ctx context.Context) InfraProviderVersionFileMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(InfraProviderVersionFileMapOutput)
}

type InfraProviderVersionFileOutput struct{ *pulumi.OutputState }

func (InfraProviderVersionFileOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**InfraProviderVersionFile)(nil)).Elem()
}

func (o InfraProviderVersionFileOutput) ToInfraProviderVersionFileOutput() InfraProviderVersionFileOutput {
	return o
}

func (o InfraProviderVersionFileOutput) ToInfraProviderVersionFileOutputWithContext(ctx context.Context) InfraProviderVersionFileOutput {
	return o
}

// Local path to the file to upload. Required for uploading file content.
func (o InfraProviderVersionFileOutput) FilePath() pulumi.StringOutput {
	return o.ApplyT(func(v *InfraProviderVersionFile) pulumi.StringOutput { return v.FilePath }).(pulumi.StringOutput)
}

// Name of the file to upload (e.g., terraform-provider-aws*5.0.0*linux*amd64.zip). If not provided, will be derived from file*path. Use this to override the uploaded filename if it should differ from the local filename.
func (o InfraProviderVersionFileOutput) Filename() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *InfraProviderVersionFile) pulumi.StringPtrOutput { return v.Filename }).(pulumi.StringPtrOutput)
}

// The ID of the provider.
func (o InfraProviderVersionFileOutput) ProviderId() pulumi.StringOutput {
	return o.ApplyT(func(v *InfraProviderVersionFile) pulumi.StringOutput { return v.ProviderId }).(pulumi.StringOutput)
}

// Indicates if the provider version is synced after file upload.
func (o InfraProviderVersionFileOutput) Synced() pulumi.BoolOutput {
	return o.ApplyT(func(v *InfraProviderVersionFile) pulumi.BoolOutput { return v.Synced }).(pulumi.BoolOutput)
}

// Provider version number.
func (o InfraProviderVersionFileOutput) Version() pulumi.StringOutput {
	return o.ApplyT(func(v *InfraProviderVersionFile) pulumi.StringOutput { return v.Version }).(pulumi.StringOutput)
}

type InfraProviderVersionFileArrayOutput struct{ *pulumi.OutputState }

func (InfraProviderVersionFileArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*InfraProviderVersionFile)(nil)).Elem()
}

func (o InfraProviderVersionFileArrayOutput) ToInfraProviderVersionFileArrayOutput() InfraProviderVersionFileArrayOutput {
	return o
}

func (o InfraProviderVersionFileArrayOutput) ToInfraProviderVersionFileArrayOutputWithContext(ctx context.Context) InfraProviderVersionFileArrayOutput {
	return o
}

func (o InfraProviderVersionFileArrayOutput) Index(i pulumi.IntInput) InfraProviderVersionFileOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *InfraProviderVersionFile {
		return vs[0].([]*InfraProviderVersionFile)[vs[1].(int)]
	}).(InfraProviderVersionFileOutput)
}

type InfraProviderVersionFileMapOutput struct{ *pulumi.OutputState }

func (InfraProviderVersionFileMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*InfraProviderVersionFile)(nil)).Elem()
}

func (o InfraProviderVersionFileMapOutput) ToInfraProviderVersionFileMapOutput() InfraProviderVersionFileMapOutput {
	return o
}

func (o InfraProviderVersionFileMapOutput) ToInfraProviderVersionFileMapOutputWithContext(ctx context.Context) InfraProviderVersionFileMapOutput {
	return o
}

func (o InfraProviderVersionFileMapOutput) MapIndex(k pulumi.StringInput) InfraProviderVersionFileOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *InfraProviderVersionFile {
		return vs[0].(map[string]*InfraProviderVersionFile)[vs[1].(string)]
	}).(InfraProviderVersionFileOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*InfraProviderVersionFileInput)(nil)).Elem(), &InfraProviderVersionFile{})
	pulumi.RegisterInputType(reflect.TypeOf((*InfraProviderVersionFileArrayInput)(nil)).Elem(), InfraProviderVersionFileArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*InfraProviderVersionFileMapInput)(nil)).Elem(), InfraProviderVersionFileMap{})
	pulumi.RegisterOutputType(InfraProviderVersionFileOutput{})
	pulumi.RegisterOutputType(InfraProviderVersionFileArrayOutput{})
	pulumi.RegisterOutputType(InfraProviderVersionFileMapOutput{})
}
